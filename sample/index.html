<!doctype html>
<html lang='en'>
<head>
    <meta charset='utf-8'>
    <title>Hello World</title>
</head>
<body>
    <!-- mount point -->
    <hello-world></hello-world>
    <script src='./hello-world.tag' type='riot/tag'></script>


    <!-- include riot.js and the compiler -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/riot/2.5.0/riot+compiler.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>

    <!-- mount normally -->
    <script>
    // fetch('http://cors.io/?u=http://stockmarket.streamdata.io/prices')
    //     .then(response => response.json())
    //     .then(json => {
    //         var names = [{key:1, value:'One'},{key:2, value:'Two'}]
    //         var stocks = JSON.parse(data)
    //         riot.mount('hello-world', {title:'My Title', names: names, stocks: stocks, })
    //     })

    $.get('http://cors.io/?u=http://stockmarket.streamdata.io/prices', data => {
        load_hello_world(JSON.parse(data))
    })

    load_hello_world = stocks => {
        var names = [{key:1, value:'One'},{key:2, value:'Two'}]
        var stocks =
        riot.mount('hello-world', {title:'My Title', names: names, stocks: stocks, })
    }

    riot.mount('*')
    </script>
</body>
</html>
